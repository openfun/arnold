# Application default configuration

# -- route
joanie_host: "joanie.{{ namespace_name }}.{{ domain_name }}"

# -- nginx
joanie_nginx_image_name: "nginxinc/nginx-unprivileged"
joanie_nginx_image_tag: "1.20"
joanie_nginx_port: 8061
joanie_nginx_replicas: 1
joanie_nginx_htpasswd_secret_name: "joanie-htpasswd"
joanie_nginx_healthcheck_port: 5000
joanie_nginx_healthcheck_endpoint: "/__healthcheck__"
joanie_nginx_status_endpoint: "/__status__"
joanie_nginx_admin_ip_whitelist: []
joanie_nginx_bypass_htaccess_ip_whitelist: []
joanie_nginx_static_cache_expires: "1M"

# -- postgresql
joanie_postgresql_version: "9.6"
joanie_database_engine: "django.db.backends.postgresql_psycopg2"
joanie_database_image_name: "postgresql"
joanie_database_image_tag: "14.1"
joanie_database_host: "postgresql"
joanie_database_port: 5432
joanie_database_name: "joanie"
joanie_database_secret_name: "joanie-postgresql-{{ joanie_vault_checksum | default('undefined_joanie_vault_checksum') }}"

# -- joanie
joanie_image_name: "fundocker/joanie"
joanie_image_tag: "1.0.0"
# The image pull secret name should match the name of your secret created to
# login to your private docker registry
joanie_image_pull_secret_name: ""
joanie_django_port: 8000
joanie_app_replicas: 1
joanie_django_settings_module: "joanie.settings"
joanie_django_configuration: "Development"
joanie_secret_name: "joanie-{{ joanie_vault_checksum | default('undefined_joanie_vault_checksum') }}"
joanie_activate_http_basic_auth: false

# -- resources
{% set app_resources = {
  "requests": {
    "cpu": "50m",
    "memory": "500Mi"
  }
} %}

joanie_app_resources: "{{ app_resources }}"
joanie_app_job_db_migrate_resources: "{{ app_resources }}"

joanie_nginx_resources:
  requests:
    cpu: 10m
    memory: 5Mi

joanie_database_resources:
  requests:
    cpu: 10m
    memory: 100Mi
